    ;; sequence

    dw .p02r
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02
    dw .p02

    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03
    dw .p03

    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04
    dw .p04

    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
    dw .p05
.loop
    dw .p02m
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02
    dw .p02a
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02s

    dw .p03m
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03
    dw .p03a
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03

    dw .p04m
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04
    dw .p04a
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04s

    dw .p05m
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05h
    dw .p05
    dw .p05a
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05a
    dw .p05a

    dw .p02am
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02
    dw .p02a
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02

    dw .p03a
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03
    dw .p03a
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03

    dw .p04a
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04
    dw .p04a
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04

    dw .p05a
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05h
    dw .p05
    dw .p05a
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05a
    dw .p05a


    dw .p02m
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02
    dw .p02a
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02s

    dw .p03m
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03
    dw .p03a
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03

    dw .p04m
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04
    dw .p04a
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04s2

    dw .p05m2
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05h
    dw .p05
    dw .p05a
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05a
    dw .p05a

    dw .p02am
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02
    dw .p02a
    dw .p02
    dw .p02r
    dw .p02
    dw .p02a
    dw .p02
    dw .p02h
    dw .p02

    dw .p03a
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03
    dw .p03a
    dw .p03
    dw .p03r
    dw .p03
    dw .p03a
    dw .p03
    dw .p03h
    dw .p03

    dw .p04a
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04
    dw .p04a
    dw .p04
    dw .p04r
    dw .p04
    dw .p04a
    dw .p04
    dw .p04h
    dw .p04

    dw .p05a
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05h
    dw .p05
    dw .p05a
    dw .p05
    dw .p05r
    dw .p05
    dw .p05a
    dw .p05
    dw .p05a
    dw .p05a

    dw 0
    dw .loop

    ;; ctrl: bit 7 -> set ch1
    ;;       bit 6 -> set ch2
    ;;       if bit 6 set -> set no bit to set ch3,
    ;;        else set any other bit to set ch3
    ;;       if 0 -> end of pattern
    ;; fdiv3, duty3, fdiv2, duty2, fdiv1, duty1
    ;; len -> if 0 -> drum trigger, followed by drum params, followed by actual len

.p02
    db #01: dw c4: db #40,#04
    db #01: dw dis4: db #40,#04
    db #01: dw g4: db #40,#04
    db #01: dw c5: db #40,#04
    db 0

.p02h
    db #01: dw c4: db #40,#00,#01,#f0: dw .hh: db #06
    db #01: dw dis4: db #40,#04
    db #01: dw g4: db #40,#04
    db #01: dw c5: db #40,#04
    db 0

.p02r
    db #40: dw c4: db #40: dw 0: db 0,#00,#01,#f0: dw .hh: db #06
    db #01: dw dis4: db #40,#04
    db #01: dw g4: db #40,#04
    db #01: dw c5: db #40,#04
    db 0

.p02a
    db #40: dw c4:   db #40: dw c3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw dis4: db #40: dw c2: db #80,#04
    db #40: dw g4:   db #40: dw c1: db #80,#04
    db #40: dw c5:   db #40: dw c0: db #80,#04
    db 0

.p02am
    db #c0: dw c4:   db #40: dw c3: db #80: dw 0: db 0,#00,#01,#f0: dw .hh: db #06
    db #40: dw dis4: db #40: dw c2: db #80,#04
    db #40: dw g4:   db #40: dw c1: db #80,#04
    db #40: dw c5:   db #40: dw c0: db #80,#04
    db 0

.p02m
    db #c0: dw c4:   db #40: dw c3: db #80: dw c3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw dis4: db #40: dw c2: db #80,#04
    db #40: dw g4:   db #40: dw c1: db #80,#04
    db #40: dw c5:   db #40: dw c0: db #80,#04
    db 0

.p02s
    db #81: dw c4: db #40:dw cis3: db #80,#04
    db #81: dw dis4: db #40:dw d3: db #80,#04
    db #81: dw g4: db #40:dw e3: db #80,#04
    db #81: dw c5: db #40:dw f3: db #80,#04
    db 0


.p03
    db #01: dw c4: db #40,#04
    db #01: dw dis4: db #40,#04
    db #01: dw g4: db #40,#04
    db #01: dw ais4: db #40,#04
    db 0

.p03h
    db #01: dw c4: db #40,#00,#01,#f0: dw .hh: db #06
    db #01: dw dis4: db #40,#04
    db #01: dw g4: db #40,#04
    db #01: dw ais4: db #40,#04
    db 0

.p03a
    db #40: dw c4:   db #40: dw c3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw dis4: db #40: dw c2: db #80,#04
    db #40: dw g4:   db #40: dw c1: db #80,#04
    db #40: dw ais4: db #40: dw c0: db #80,#04
    db 0

.p03m
    db #c0: dw c4:   db #40: dw c3: db #80: dw g3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw dis4: db #40: dw c2: db #80,#04
    db #40: dw g4:   db #40: dw c1: db #80,#04
    db #40: dw ais4: db #40: dw c0: db #80,#04
    db 0

.p03r
    db #40: dw c4:   db #40: dw 0: db 0,#00,#01,#f0: dw .hh: db #06
    db #01: dw dis4: db #40,#04
    db #01: dw g4: db #40,#04
    db #01: dw ais4: db #40,#04
    db 0

.p04
    db #01: dw a3: db #40,#04
    db #01: dw c4: db #40,#04
    db #01: dw e4: db #40,#04
    db #01: dw a4: db #40,#04
    db 0

.p04h
    db #01: dw a3: db #40,#00,#01,#f0: dw .hh: db #06
    db #01: dw c4: db #40,#04
    db #01: dw e4: db #40,#04
    db #01: dw a4: db #40,#04
    db 0

.p04a
    db #40: dw a3:   db #40: dw c3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw c4:   db #40: dw c2: db #80,#04
    db #40: dw e4:   db #40: dw c1: db #80,#04
    db #40: dw ais4: db #40: dw c0: db #80,#04
    db 0

.p04m
    db #c0: dw a3:   db #40: dw c3: db #80: dw a3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw c4:   db #40: dw c2: db #80,#04
    db #40: dw e4:   db #40: dw c1: db #80,#04
    db #40: dw ais4: db #40: dw c0: db #80,#04
    db 0

.p04s
    db #81: dw a3: db #40: dw gis3: db #80,#04
    db #81: dw c4: db #40: dw g3: db #80,#04
    db #81: dw e4: db #40: dw fis3: db #80,#04
    db #81: dw a4: db #40: dw f3: db #80,#04
    db 0

.p04s2
    db #81: dw a3: db #40: dw ais3: db #80,#04
    db #81: dw c4: db #40: dw b3: db #80,#04
    db #81: dw e4: db #40: dw c4: db #80,#04
    db #81: dw a4: db #40: dw d4: db #80,#04
    db 0


.p04r
    db #40: dw a3:   db #40: dw 0: db 0,#00,#01,#f0: dw .hh: db #06
    db #01: dw c4: db #40,#04
    db #01: dw e4: db #40,#04
    db #01: dw a4: db #40,#04
    db 0

.p05
    db #01: dw a3: db #40,#04
    db #01: dw c4: db #40,#04
    db #01: dw e4: db #40,#04
    db #01: dw ais4: db #40,#04
    db 0

.p05h
    db #01: dw a3: db #40,#00,#01,#f0: dw .hh: db #06
    db #01: dw c4: db #40,#04
    db #01: dw e4: db #40,#04
    db #01: dw ais4: db #40,#04
    db 0

.p05a
    db #40: dw a3:   db #40: dw c3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw c4:   db #40: dw c2: db #80,#04
    db #40: dw e4:   db #40: dw c1: db #80,#04
    db #40: dw ais4: db #40: dw c0: db #80,#04
    db 0

.p05m
    db #c0: dw a3:   db #40: dw c3: db #80: dw e3: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw c4:   db #40: dw c2: db #80,#04
    db #40: dw e4:   db #40: dw c1: db #80,#04
    db #40: dw ais4: db #40: dw c0: db #80,#04
    db 0

.p05m2
    db #c0: dw a3:   db #40: dw c3: db #80: dw e4: db #80,#00,#01,#f0: dw .hh: db #06
    db #40: dw c4:   db #40: dw c2: db #80,#04
    db #40: dw e4:   db #40: dw c1: db #80,#04
    db #40: dw ais4: db #40: dw c0: db #80,#04
    db 0


.p05r
    db #40: dw a3:   db #40: dw 0: db 0,#00,#01,#f0: dw .hh: db #06
    db #01: dw c4: db #40,#04
    db #01: dw e4: db #40,#04
    db #01: dw ais4: db #40,#04
    db 0


.hh
    include "hh1.asm"
